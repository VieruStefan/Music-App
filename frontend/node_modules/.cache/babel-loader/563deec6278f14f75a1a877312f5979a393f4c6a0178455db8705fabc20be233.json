{"ast":null,"code":"import axios from \"axios\";\nconst ARTIST_API_BASE_URL = \"http://localhost:7000/api/songcollection/artists\";\nconst parseJwt = token => {\n  try {\n    return JSON.parse(atob(token.split('.')[1]));\n  } catch (e) {\n    return null;\n  }\n};\nconst checkExp = () => {\n  var token = localStorage.getItem(\"token\");\n  var decodedJwt = parseJwt(token);\n  if (decodedJwt.exp * 1000 < Date.now()) {\n    this.localStorage.clear();\n    alert(\"Logged out!\");\n  }\n};\nclass ArtistServiceClass {\n  saveArtist(artist, uuid) {\n    checkExp();\n    var token = localStorage.getItem(\"token\");\n    return axios.put(ARTIST_API_BASE_URL + \"/\" + uuid, artist, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    });\n  }\n  getArtists() {\n    checkExp();\n    return axios.get(ARTIST_API_BASE_URL);\n  }\n  getArtistByUUID(uuid) {\n    checkExp();\n    return axios.get(ARTIST_API_BASE_URL + \"/\" + uuid);\n  }\n  updateArtist(artist, uuid) {\n    checkExp();\n    var token = localStorage.getItem(\"token\");\n    return axios.put(ARTIST_API_BASE_URL + \"/\" + uuid, artist, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    });\n  }\n  deleteArtist(uuid) {\n    checkExp();\n    var token = localStorage.getItem(\"token\");\n    return axios.delete(ARTIST_API_BASE_URL + \"/\" + uuid, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    });\n  }\n}\nconst ArtistService = new ArtistServiceClass();\nexport default ArtistService;","map":{"version":3,"names":["axios","ARTIST_API_BASE_URL","parseJwt","token","JSON","parse","atob","split","e","checkExp","localStorage","getItem","decodedJwt","exp","Date","now","clear","alert","ArtistServiceClass","saveArtist","artist","uuid","put","headers","getArtists","get","getArtistByUUID","updateArtist","deleteArtist","delete","ArtistService"],"sources":["/home/stefan/Documents/POS/frontend/src/services/ArtistService.js"],"sourcesContent":["import axios from \"axios\";\n\nconst ARTIST_API_BASE_URL = \"http://localhost:7000/api/songcollection/artists\";\n\nconst parseJwt = (token) => {\n    try {\n      return JSON.parse(atob(token.split('.')[1]));\n    } catch (e) {\n      return null;\n    }\n};\nconst checkExp = () =>{\n    var token = localStorage.getItem(\"token\");\n    var decodedJwt = parseJwt(token);\n    if(decodedJwt.exp * 1000 < Date.now())\n    {\n        this.localStorage.clear();\n        alert(\"Logged out!\");\n    }\n}\nclass ArtistServiceClass{\n    \n    saveArtist(artist, uuid){\n        checkExp()\n        var token = localStorage.getItem(\"token\");\n        return axios.put(ARTIST_API_BASE_URL + \"/\" + uuid, artist, {headers: {\"Authorization\" : `Bearer ${token}`}})\n    }\n\n    getArtists(){\n        checkExp()\n        return axios.get(ARTIST_API_BASE_URL);\n    }\n\n    getArtistByUUID(uuid){\n        checkExp()\n        return axios.get(ARTIST_API_BASE_URL + \"/\" + uuid);\n    }\n\n    updateArtist(artist, uuid){\n        checkExp()\n        var token = localStorage.getItem(\"token\");\n        return axios.put(ARTIST_API_BASE_URL + \"/\" + uuid, artist, {headers: {\"Authorization\" : `Bearer ${token}`}});\n    }\n\n    deleteArtist(uuid){\n        checkExp()\n        var token = localStorage.getItem(\"token\");\n        return axios.delete(ARTIST_API_BASE_URL + \"/\" + uuid, {headers: {\"Authorization\" : `Bearer ${token}`}});\n    }\n}\nconst ArtistService = new ArtistServiceClass()\nexport default ArtistService;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,mBAAmB,GAAG,kDAAkD;AAE9E,MAAMC,QAAQ,GAAIC,KAAK,IAAK;EACxB,IAAI;IACF,OAAOC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACH,KAAK,CAACI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9C,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV,OAAO,IAAI;EACb;AACJ,CAAC;AACD,MAAMC,QAAQ,GAAG,MAAK;EAClB,IAAIN,KAAK,GAAGO,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACzC,IAAIC,UAAU,GAAGV,QAAQ,CAACC,KAAK,CAAC;EAChC,IAAGS,UAAU,CAACC,GAAG,GAAG,IAAI,GAAGC,IAAI,CAACC,GAAG,EAAE,EACrC;IACI,IAAI,CAACL,YAAY,CAACM,KAAK,EAAE;IACzBC,KAAK,CAAC,aAAa,CAAC;EACxB;AACJ,CAAC;AACD,MAAMC,kBAAkB;EAEpBC,UAAU,CAACC,MAAM,EAAEC,IAAI,EAAC;IACpBZ,QAAQ,EAAE;IACV,IAAIN,KAAK,GAAGO,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IACzC,OAAOX,KAAK,CAACsB,GAAG,CAACrB,mBAAmB,GAAG,GAAG,GAAGoB,IAAI,EAAED,MAAM,EAAE;MAACG,OAAO,EAAE;QAAC,eAAe,EAAI,UAASpB,KAAM;MAAC;IAAC,CAAC,CAAC;EAChH;EAEAqB,UAAU,GAAE;IACRf,QAAQ,EAAE;IACV,OAAOT,KAAK,CAACyB,GAAG,CAACxB,mBAAmB,CAAC;EACzC;EAEAyB,eAAe,CAACL,IAAI,EAAC;IACjBZ,QAAQ,EAAE;IACV,OAAOT,KAAK,CAACyB,GAAG,CAACxB,mBAAmB,GAAG,GAAG,GAAGoB,IAAI,CAAC;EACtD;EAEAM,YAAY,CAACP,MAAM,EAAEC,IAAI,EAAC;IACtBZ,QAAQ,EAAE;IACV,IAAIN,KAAK,GAAGO,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IACzC,OAAOX,KAAK,CAACsB,GAAG,CAACrB,mBAAmB,GAAG,GAAG,GAAGoB,IAAI,EAAED,MAAM,EAAE;MAACG,OAAO,EAAE;QAAC,eAAe,EAAI,UAASpB,KAAM;MAAC;IAAC,CAAC,CAAC;EAChH;EAEAyB,YAAY,CAACP,IAAI,EAAC;IACdZ,QAAQ,EAAE;IACV,IAAIN,KAAK,GAAGO,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IACzC,OAAOX,KAAK,CAAC6B,MAAM,CAAC5B,mBAAmB,GAAG,GAAG,GAAGoB,IAAI,EAAE;MAACE,OAAO,EAAE;QAAC,eAAe,EAAI,UAASpB,KAAM;MAAC;IAAC,CAAC,CAAC;EAC3G;AACJ;AACA,MAAM2B,aAAa,GAAG,IAAIZ,kBAAkB,EAAE;AAC9C,eAAeY,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}